(this["webpackJsonppervote-web"]=this["webpackJsonppervote-web"]||[]).push([[0],{372:function(e,t,a){e.exports=a.p+"static/media/logo.4441f2b4.svg"},385:function(e,t,a){e.exports=a(536)},390:function(e,t,a){},536:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(16),o=a.n(s),i=a(375);a(390);function l(e){var t=e.children,a=e.hero;return r.a.createElement("header",{className:a},t)}function c(e){var t=e.children,a=e.title;return r.a.createElement("div",{className:"banner"},r.a.createElement("h1",null,a),r.a.createElement("p",null),t)}l.defaultProps={hero:"defaultHero"};var u=a(41),d=function(){return r.a.createElement(l,null,r.a.createElement(c,{title:"PerVote Web"},r.a.createElement("div",{className:"divider"}),r.a.createElement("h3",null,"This web page designed for admins."),r.a.createElement("h5",null,"Admins can be add/delete personnel with using system."),r.a.createElement("h5",null,"Department information can be enter with using system."),r.a.createElement("h5",null,"Admins can be display that pointed personnel for meetings."),r.a.createElement("h4",null,"You should use Login button from here if you want to use this system."),r.a.createElement(u.b,{to:"/login",className:"btn-primary"},"Login Button")))},m=a(86),h=a(48),p=a.n(h),g=a(87),f=a(54),A=a(55),b=a(57),v=a(56),w=a(72),E=a(58),S=a(322),y=a(566),O=a(364),j=a.n(O),C=a(126),k=a.n(C),x=a(65),P=a(68),D=a.n(P),T=function(){return{type:"SIGN_IN_SUCCESS"}},B=function(e){return console.log(e),{type:"SAVE_EMAIL",text:e}},N=function(){return localStorage.getItem("usertoken")},M=function(){return localStorage.getItem("email")},Q=a(106),Y=a.n(Q),I=function(e){return Y.a.put("http://192.168.1.111:3001/admins/update",{email:e.email,departments:e.departments}).then((function(e){return e.data})).catch((function(e){return e.data}))},U=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(b.a)(this,Object(v.a)(t).call(this))).handleKeyPress=function(t){"Enter"===t.key&&e.login()},e.onResolved=function(){e.setState({isVerified:!0}),console.log(e.state.isVerified)},e.sendMessage=function(){e.recaptcha.execute()},e.onConfirm=function(){e.setState({showAlert:!1}),e.setState({alertText:""})},e.state={email:"",password:"",errors:{},warning:!1,errorMessage:"",isVerified:!1,showProgress:!1,showAlert:!1,alertText:""},e.onChange=e.onChange.bind(Object(w.a)(e)),e.onSubmit=e.onSubmit.bind(Object(w.a)(e)),e.forgetPassword=e.forgetPassword.bind(Object(w.a)(e)),e}return Object(E.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N()&&this.props.history.push("/personnel");case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChange",value:function(e){this.setState(Object(m.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;(e.preventDefault(),this.recaptcha.execute(),0===this.state.password.length||0===this.state.email.length)?this.setState({errorMessage:"Please fill all requirements!"}):(this.setState({showProgress:!0}),function(e){return console.log("admin email",e.email),console.log("admin pass",e.password),Y.a.post("http://192.168.1.111:3001/admins/login",{email:e.email,password:e.password}).then((function(t){return localStorage.setItem("usertoken",t.data),localStorage.setItem("email",e.email),t.data})).catch((function(e){return e}))}({email:this.state.email,password:this.state.password}).then((function(e){e&&(console.log(e),t.setState({showProgress:!1}),void 0!==e.error||e.toString().toLowerCase().includes("error")?void 0!==e.error?t.setState({errorMessage:e.error}):t.setState({errorMessage:"We cant react API, sorry!"}):(t.setState({errorMessage:""}),t.props.loginaction(),t.props.emailaction(t.state.email),t.props.history.push({pathname:"/personnel"})))})))}},{key:"forgetPassword",value:function(e){var t,a=this;if(e.preventDefault(),0===this.state.email.length)this.setState({errorMessage:"Please enter your email!"});else if(this.state.email.includes("@")){this.setState({showProgress:!0});var n={email:this.state.email};(t=n,Y.a.post("http://192.168.1.111:3001/admins/forgetpassword/"+t.email,{email:t.email}).then((function(e){return e.data})).catch((function(e){return e.data}))).then((function(e){e&&(console.log(e),a.setState({showProgress:!1}),void 0!==e.error?(console.log("buraya gir"),a.setState({errorMessage:e.error})):(a.setState({alertText:"Admin login password sent to "+a.state.email}),a.setState({showAlert:!0})))}))}else this.setState({errorMessage:"Email must be include '@'!"})}},{key:"render",value:function(){var e=this;return r.a.createElement(l,null,r.a.createElement(c,{title:"Sign IN"},r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},this.state.errorMessage&&r.a.createElement(y.a,{variant:"outlined",severity:"error",className:"error"},this.state.errorMessage),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",null,r.a.createElement("span",null,"Don't you have an account?"," ",r.a.createElement("a",{className:"underline",onClick:function(){return e.props.history.push("/register")}},"Sign UP now!"))),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",null,r.a.createElement(S.a,{required:!0,id:"outlined-basic",name:"email",value:this.state.email,onChange:this.onChange,label:"e-Mail",variant:"outlined"})),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",null,r.a.createElement(S.a,{required:!0,id:"outlined-password-input",type:"password",name:"password",value:this.state.password,onChange:this.onChange,label:"Password",autoComplete:"current-password",variant:"outlined"})),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",null,r.a.createElement("button",{className:"btn-primary",type:"submit",onClick:this.onSubmit},"Login")),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("a",{className:"underline",onClick:this.forgetPassword},"Did you forget your password?"))),r.a.createElement(j.a,{ref:function(t){return e.recaptcha=t},sitekey:"6Lf46vcUAAAAAE0FSDWracSMu-V7VN16jCaTPY94",onResolved:this.onResolved}),r.a.createElement("div",{className:"divider"}),r.a.createElement(k.a,{visible:this.state.showProgress,type:"ThreeDots",color:"#0066ff",height:50,width:50}),r.a.createElement(D.a,{title:this.state.alertText,onConfirm:this.onConfirm,show:this.state.showAlert}))))}}]),t}(n.Component),R=Object(x.b)((function(e){return{isLogged:e.log}}),{loginaction:T,emailaction:B})(U),G=function(){return r.a.createElement(l,null,r.a.createElement(c,{title:"404 - Page Not Found"},r.a.createElement(u.b,{to:"/",className:"btn-primary"},"Return Home Page")))},X=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(b.a)(this,Object(v.a)(t).call(this))).onConfirm=function(){e.setState({showAlert:!1}),e.setState({alertText:""}),e.props.history.push("/login")},e.state={email:"",password:"",passwordagain:"",errorMessage:"",showAlert:!1,alertText:""},e.onChange=e.onChange.bind(Object(w.a)(e)),e.onSubmit=e.onSubmit.bind(Object(w.a)(e)),e}return Object(E.a)(t,e),Object(A.a)(t,[{key:"onChange",value:function(e){this.setState(Object(m.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t,a=this;if(e.preventDefault(),0===this.state.password.length||0===this.state.email.length||0===this.state.passwordagain.length)this.setState({errorMessage:"Please fill all requirements!"});else if(this.state.password!==this.state.passwordagain)this.setState({errorMessage:"Passwords must be same!"});else if(this.state.email.includes("@")){var n={email:this.state.email,password:this.state.password};(t=n,Y.a.post("http://192.168.1.111:3001/admins/add",{email:t.email,password:t.password}).then((function(e){return e.data})).catch((function(e){return e.data}))).then((function(e){e&&(console.log(e),void 0!==e.error?a.setState({errorMessage:e.error}):(a.setState({alertText:a.state.email+" registered succesfully!Returning login page..."}),a.setState({showAlert:!0})))}))}else this.setState({errorMessage:"Email must be include '@'!"})}},{key:"render",value:function(){var e=this;return r.a.createElement(l,null,r.a.createElement(c,{title:"Sign UP"},r.a.createElement("div",null,r.a.createElement("span",null,"Have an account?"," ",r.a.createElement("a",{className:"underline",onClick:function(){return e.props.history.push("/login")}},"Sign IN now!"))),r.a.createElement("div",{className:"divider"}),this.state.errorMessage&&r.a.createElement(y.a,{variant:"outlined",severity:"error",className:"error"},this.state.errorMessage),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",null,r.a.createElement(S.a,{required:!0,id:"outlined-basic",label:"e-Mail",variant:"outlined",onChange:this.onChange,value:this.state.mail,name:"email"})),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",null,r.a.createElement(S.a,{required:!0,id:"outlined-password-input",label:"Password",name:"password",type:"password",autoComplete:"current-password",variant:"outlined",onChange:this.onChange,value:this.state.password})),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",null,r.a.createElement(S.a,{required:!0,id:"outlined-password-input",label:"Password (Again)",type:"password",name:"passwordagain",autoComplete:"current-password",variant:"outlined",onChange:this.onChange,value:this.state.passwordagain})),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{onClick:this.onSubmit},r.a.createElement("button",{className:"btn-primary"},"Register")),r.a.createElement(D.a,{title:this.state.alertText,onConfirm:this.onConfirm,show:this.state.showAlert})))}}]),t}(n.Component),q=a(568),V=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(b.a)(this,Object(v.a)(t).call(this))).state={personnel:""},e}return Object(E.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"person",key:this.props.val._id},r.a.createElement("img",{src:this.props.val.photo}),r.a.createElement("h4",null,"Meeting Subject: ",this.props.val.subject),r.a.createElement("h4",null,"Meeting Date: ",this.props.val.date),r.a.createElement("h4",null,"Voted Pers. Mail: ",this.props.val.scorerMail),r.a.createElement("h4",null,"Point: ",this.props.val.pointValue),r.a.createElement(q.a,{name:"half-rating-read",defaultValue:this.props.val.pointValue,precision:.1,readOnly:!0,size:"large"}),r.a.createElement("h5",null,"Description: ",this.props.val.description))}}]),t}(n.Component),L=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(b.a)(this,Object(v.a)(t).call(this))).state={points:"",gosterilecekler:[],showProgress:!0,alertText:"",showAlert:!1},e}return Object(E.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(p.a.mark((function e(){var t,a,n,r,s,o,i=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=N()){e.next=5;break}this.props.history.push("/login"),e.next=39;break;case 5:return t=M(),e.next=8,fetch("http://192.168.1.111:3001/points/personnel/"+t).then((function(e){return e.json()})).then((function(e){return i.setState({points:e})})).catch((function(){return i.setState({hasErrors:!0})}));case 8:if(this.state.hasErrors){e.next=13;break}this.setState({alertText:"Your personnel dont have any points for display."}),this.setState({showAlert:!0}),e.next=39;break;case 13:a=this.state.points,n=0;case 15:if(!(n<a.length)){e.next=37;break}return r=a[n],s={},e.next=20,fetch("http://192.168.1.111:3001/meetings/"+r.meetingID).then((function(e){return e.json()})).then((function(e){return s=e}));case 20:return r.subject=s.subject,r.date=s.date,console.log(r),o={},e.next=26,fetch("http://192.168.1.111:3001/personnels/"+r.scorerPersonnel).then((function(e){return e.json()})).then((function(e){return o=e}));case 26:console.log(o),null===o||void 0===o.photo?(r.scorerMail="kisisilinmis@pervote.com",r.photo="data:image/jpeg;base64,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"):(r.scorerMail=o.email,r.photo=o.photo),console.log(r),delete r.createdAt,delete r.meetingID,delete r.ratedPersonnel,delete r.updatedAt,delete r.__v;case 34:n++,e.next=15;break;case 37:this.setState({showProgress:!1}),this.setState({gosterilecekler:a});case 39:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.gosterilecekler.map((function(e,t){return r.a.createElement(V,{key:t,keyval:t,val:e})}));return r.a.createElement(l,null,r.a.createElement(k.a,{visible:this.state.showProgress,type:"Ball-Triangle",color:"#0066ff",height:200,width:200}),r.a.createElement(D.a,{title:this.state.alertText,onConfirm:this.onConfirm,show:this.state.showAlert}),r.a.createElement("div",{styles:{overflowY:"scroll"}}," ",e))}}]),t}(n.Component),F=function(){return r.a.createElement(l,null,r.a.createElement(c,{title:"PerVote Mobile App"},r.a.createElement("div",{className:"divider"}),r.a.createElement("div",null,r.a.createElement("h5",null,"Your personnels will use here. It's open source."),r.a.createElement("span",null,r.a.createElement("a",{className:"underline",onClick:function(){return window.open("https://github.com/batuhansubasi/pervote-mobil","_blank")}},"Click for Mobile App!")))))},H=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(b.a)(this,Object(v.a)(t).call(this))).onConfirm=function(){e.setState({showAlert:!1}),e.setState({alertText:""})},e.state={email:"",password:"",passwordagain:"",newpasswordagain:"",errorMessage:"",showAlert:!1,showProgress:!1,alertText:""},e.onChange=e.onChange.bind(Object(w.a)(e)),e.onSubmit=e.onSubmit.bind(Object(w.a)(e)),e}return Object(E.a)(t,e),Object(A.a)(t,[{key:"onChange",value:function(e){this.setState(Object(m.a)({},e.target.name,e.target.value))}},{key:"componentDidMount",value:function(){var e=Object(g.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=N())?(t=M(),this.setState({email:t})):this.props.history.push("/login");case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(e){var t,a=this;if(e.preventDefault(),0===this.state.password.length||0===this.state.newpassword.length||0===this.state.newpasswordagain.length)this.setState({errorMessage:"Please fill all requirements!"});else if(this.state.newpassword!==this.state.newpasswordagain)this.setState({errorMessage:"Passwords must be same!"});else{this.setState({errorMessage:""});var n={email:this.state.email,password:this.state.password,newpassword:this.state.newpassword};console.log(n),(t=n,Y.a.put("http://192.168.1.111:3001/admins/changepassword",{email:t.email,password:t.password,newpassword:t.newpassword}).then((function(e){return e.data})).catch((function(e){return e.data}))).then((function(e){console.log(e),e&&(void 0!==e.error?a.setState({errorMessage:e.error}):(a.setState({alertText:"Password changed successfully!"}),a.setState({showAlert:!0})))}))}}},{key:"render",value:function(){return r.a.createElement(l,null,r.a.createElement(c,{title:"SETTINGS"},this.state.errorMessage&&r.a.createElement(y.a,{variant:"outlined",severity:"error",className:"error"},this.state.errorMessage),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",null,r.a.createElement(S.a,{required:!0,id:"outlined-password-input",label:"Current Password",name:"password",type:"password",autoComplete:"current-password",variant:"outlined",onChange:this.onChange,value:this.state.password})),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",null,r.a.createElement(S.a,{required:!0,id:"outlined-password-input",label:"New Password",type:"password",name:"newpassword",autoComplete:"current-password",variant:"outlined",onChange:this.onChange,value:this.state.newpassword})),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",null,r.a.createElement(S.a,{required:!0,id:"outlined-password-input",label:"New Password (Again)",type:"password",name:"newpasswordagain",autoComplete:"current-password",variant:"outlined",onChange:this.onChange,value:this.state.newpasswordagain})),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{onClick:this.onSubmit},r.a.createElement("button",{className:"btn-primary"},"Save")),r.a.createElement(k.a,{visible:this.state.showProgress,type:"ThreeDots",color:"#0066ff",height:50,width:50}),r.a.createElement(D.a,{title:this.state.alertText,onConfirm:this.onConfirm,show:this.state.showAlert})))}}]),t}(n.Component),z=a(138),Z=a(205),W=a.n(Z);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _={},$=[{department:""}],ee=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(b.a)(this,Object(v.a)(t).call(this))).onConfirm=function(){e.setState({showAlert:!1}),e.setState({alertText:""})},e.state={email:"",columns:[],data:[],admin:{},loading:!0,showAlert:!1,alertText:""},e}return Object(E.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(p.a.mark((function e(){var t,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=N()){e.next=5;break}this.props.history.push("/login"),e.next=12;break;case 5:return t=M(),this.setState({email:t}),e.next=9,fetch("http://192.168.1.111:3001/admins/"+t).then((function(e){return e.json()})).then((function(e){return a.setState({admin:e})}));case 9:this.setState({data:this.state.admin.departments}),this.setState({loading:!1}),this.setState({columns:[{title:"Department",field:"department"}]});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addDepartment",value:function(){var e=this;if(null!==_){for(var t=this.state.data,a=0,n=0;n<t.length+1;n++){var r=t[n],s={department:""};n===t.length?s.department=_.department:s.department=r.department,$[a]=s,a++}var o={email:this.state.email,departments:$};I(o).then((function(t){void 0!==t.error||t.toString().toLowerCase().includes("error")?(e.setState({showAlert:!0}),e.setState({alertText:"Check your connection"})):(e.setState({showAlert:!0}),e.setState({alertText:"Department added succesfully!"}))}))}}},{key:"deleteDepartment",value:function(){var e=this;if(null!==_){for(var t=this.state.data,a=0,n=0;n<t.length;n++){var r=t[n],s={department:""};_.department!==r.department&&(s.department=r.department),""!==s.department&&($[a]=s,a++)}var o={email:this.state.email,departments:$};console.log($),I(o).then((function(t){void 0!==t.error||t.toString().toLowerCase().includes("error")?(e.setState({showAlert:!0}),e.setState({alertText:"Check your connection"})):(e.setState({showAlert:!0}),e.setState({alertText:"Department deleted succesfully!"}))}))}}},{key:"render",value:function(){var e=this;return r.a.createElement(l,null,r.a.createElement(W.a,{title:"Department List",columns:this.state.columns,data:this.state.data,isLoading:this.state.loading,localization:{header:{actions:"Action"},toolbar:{searchPlaceholder:"Search Department"},body:{addTooltip:"Add new Department",emptyDataSourceMessage:"You dont have Department for list",filterRow:{filterTooltip:"Filter Department"},editRow:{deleteText:"Department will be delete. Are you sure that?"}}},style:{backgroundColor:"#f7f7f7"},options:{pageSizeOptions:[5,10]},editable:{onRowAdd:function(t){return new Promise((function(a,n){setTimeout((function(){if(t.submitted=!0,!t.department)return e.setState({alertText:"Department must be add!"}),e.setState({showAlert:!0}),void n();a(),e.setState((function(a){var n=Object(z.a)(a.data);return n.push(t),console.log(t),_=t,e.addDepartment(),K({},a,{data:n})}))}),500)}))},onRowDelete:function(t){return new Promise((function(a){setTimeout((function(){a(),e.setState((function(a){var n=Object(z.a)(a.data);return console.log(t),_=t,e.deleteDepartment(),n.splice(n.indexOf(t),1),K({},a,{data:n})}))}),500)}))}}}),r.a.createElement(D.a,{title:this.state.alertText,onConfirm:this.onConfirm,show:this.state.showAlert}))}}]),t}(n.Component);function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ne={},re=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(b.a)(this,Object(v.a)(t).call(this))).onConfirm=function(){e.setState({showAlert:!1}),e.setState({alertText:""})},e.state={email:"",columns:[],data:[],users:[],hasErrors:!1,loading:!0,admin:"",showAlert:!1,alertText:""},e}return Object(E.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(p.a.mark((function e(){var t,a,n,s,o,i,l,c,u=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=N()){e.next=5;break}this.props.history.push("/login"),e.next=27;break;case 5:return t=M(),this.setState({admin:t}),e.next=9,fetch("http://192.168.1.111:3001/personnels/admin/"+t).then((function(e){return e.json()})).then((function(e){return u.setState({users:e})})).catch((function(){return u.setState({hasErrors:!0})}));case 9:this.state.hasErrors||(this.setState({alertText:"You dont have personnel for list"}),this.setState({showAlert:!0})),a=this.state.users,n=0;case 12:if(!(n<a.length)){e.next=24;break}return s=a[n],void 0!==a[n].photo&&(a[n].photo=r.a.createElement("img",{style:{height:"100px",width:"100px"},src:s.photo})),o=[],i=0,e.next=19,fetch("http://192.168.1.111:3001/points/personnel/"+a[n]._id).then((function(e){return e.json()})).then((function(e){return o=e}));case 19:for(l=0;l<o.length;l++)void 0!==(c=o[l]).pointValue&&(i+=c.pointValue);0!==i?(i/=o.length,s.rate=i):s.rate="-";case 21:n++,e.next=12;break;case 24:this.setState({data:a}),this.setState({loading:!1}),this.setState({columns:[{title:"Rate",field:"rate",type:"string",editable:"never",cellStyle:function(e){return{fontSize:35,fontWeight:"bold",fontStyle:"italic"}}},{title:"Photo",field:"photo",type:"string",editable:"never"},{title:"eMail",field:"email"},{title:"Name",field:"name",editable:"never"},{title:"Surname",field:"surname",editable:"never"},{title:"BirthYear",field:"birthyear",type:"numeric",editable:"never"},{title:"Department",field:"department",editable:"never"},{title:"Phone",field:"phone",type:"numeric",editable:"never"}]});case 27:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deletePers",value:function(){null!==ne&&function(e){return Y.a.delete("http://192.168.1.111:3001/personnels/"+e.email,{}).catch((function(e){return e}))}({email:ne.email}).then((function(e){console.log(e)}))}},{key:"addPers",value:function(){if(null!==ne){var e=Math.random().toString(36).slice(-8),t={email:ne.email,password:e,admin:this.state.admin};console.log(t),function(e){return Y.a.post("http://192.168.1.111:3001/personnels/add",{email:e.email,password:e.password,admin:e.admin}).then((function(e){return e})).catch((function(e){return e}))}(t).then((function(e){console.log(e)}))}}},{key:"render",value:function(){var e=this;return r.a.createElement(l,null,r.a.createElement(W.a,{title:"Personnel List",columns:this.state.columns,data:this.state.data,isLoading:this.state.loading,localization:{header:{actions:"Action"},toolbar:{searchPlaceholder:"Search Personnel"},body:{addTooltip:"Add new Personnel",emptyDataSourceMessage:"You dont have personnels for list",filterRow:{filterTooltip:"Filter Personnel"},editRow:{deleteText:"Personnel will be delete. Are you sure that?"}}},style:{backgroundColor:"#f7f7f7"},options:{pageSizeOptions:[2,5],rowStyle:function(e){if("-"===e.rate)return{backgroundColor:"rgba(255,255,0, 0.5)"};var t=e.rate/5;return console.log(t),t<.1?{backgroundColor:"rgba(255, 0, 0, 0.5)"}:t<.2?{backgroundColor:"rgba(255, 0, 0, 0.6)"}:t<.3?{backgroundColor:"rgba(255, 0, 0, 0.7)"}:t<.4?{backgroundColor:"rgba(255, 0, 0, 0.8)"}:t<.5?{backgroundColor:"rgba(255, 0, 0, 0.9)"}:t<.6?{backgroundColor:"rgba(0, 204, 102,0.6)"}:t<.7?{backgroundColor:"rgba(0, 204, 102,0.7)"}:t<.8?{backgroundColor:"rgba(0, 204, 102,0.8)"}:t<.9?{backgroundColor:"rgba(0, 204, 102,0.9)"}:{backgroundColor:"rgba(0, 204, 102,1)"}}},editable:{onRowAdd:function(t){return new Promise((function(a,n){setTimeout((function(){return t.submitted=!0,t.email?t.email.includes("@")?(a(),e.setState({alertText:"Personnel login password will be sending to "+t.email}),e.setState({showAlert:!0}),void e.setState((function(a){var n=Object(z.a)(a.data);return n.push(t),console.log(t),ne=t,e.addPers(),ae({},a,{data:n})}))):(e.setState({alertText:"Personnel email must be include '@'"}),e.setState({showAlert:!0}),void n()):(e.setState({alertText:"Personnel email must be add!"}),e.setState({showAlert:!0}),void n())}),500)}))},onRowDelete:function(t){return new Promise((function(a){setTimeout((function(){a(),e.setState((function(a){var n=Object(z.a)(a.data);return console.log(t),ne=t,e.deletePers(),n.splice(n.indexOf(t),1),ae({},a,{data:n})}))}),500)}))}},actions:[{icon:"poll",tooltip:"Show Points Detail",onClick:function(t,a){"-"===a.rate?(e.setState({alertText:"Your personnel doesnt have any point for display"}),e.setState({showAlert:!0})):e.props.history.push({pathname:"/personnel/"+a._id,state:a._id})}}]}),r.a.createElement(D.a,{title:this.state.alertText,onConfirm:this.onConfirm,show:this.state.showAlert}))}}]),t}(n.Component),se=a(374),oe=a(373),ie=a(372),le=a.n(ie);function ce(e){return{display:e?"block":"none"}}var ue=function(){var e=Object(n.useState)(0),t=Object(se.a)(e,2),a=t[0],s=t[1],o=Object(x.d)((function(e){return e.isLogged})),i=Object(x.c)();return N()&&(o=!0),r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"nav-center"},r.a.createElement("div",{className:"nav-header"},r.a.createElement(u.b,{to:"/"},r.a.createElement("img",{src:le.a,alt:"Beach Resort"})),r.a.createElement("button",{type:"button",className:"nav-btn",onClick:function(){return s(!a)}},r.a.createElement(oe.a,{className:"nav-icon"}))),r.a.createElement("ul",{className:a?"nav-links show-nav":"nav-links"},r.a.createElement("li",null,r.a.createElement(u.b,{to:"/login",style:ce(!o)},"Login")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/register",style:ce(!o)},"Register")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/mobile",style:ce(!o)},"Mobile App")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/personnel",style:ce(o)},"My Personnels")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/department",style:ce(o)},"My Departments")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/settings",style:ce(o)},"Admin Settings")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/",style:ce(o),onClick:function(){return i(T())}},"Logout")))))},de=a(104);var me=function(e){var t=e.auth,a=e.component,n=Object(i.a)(e,["auth","component"]);return r.a.createElement(de.b,Object.assign({},n,{render:function(e){return t?r.a.createElement(a,e):r.a.createElement(de.a,{to:{pathname:"/"}})}}))},he=function(){var e=Object(x.d)((function(e){return e.isLogged}));return N()&&(e=!0),r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,null),r.a.createElement(de.d,null,r.a.createElement(de.b,{exact:!0,path:"/",component:d}),r.a.createElement(de.b,{exact:!0,path:"/login",component:R,auth:!e}),r.a.createElement(de.b,{exact:!0,path:"/register",component:X,auth:!e}),r.a.createElement(de.b,{exact:!0,path:"/settings",component:H,auth:e}),r.a.createElement(de.b,{exact:!0,path:"/department",component:ee,auth:e}),r.a.createElement(de.b,{exact:!0,path:"/mobile",component:F}),r.a.createElement(de.b,{exact:!0,path:"/personnel/:id",component:L,auth:e}),r.a.createElement(me,{exact:!0,path:"/personnel",component:re,auth:e}),r.a.createElement(de.b,{component:G})))},pe=a(73),ge=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN_SUCCESS":return!0===e&&(localStorage.removeItem("usertoken"),localStorage.removeItem("email")),!e;default:return e}},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_EMAIL":return console.log(t.text),e=t.text;default:return e}},Ae=Object(pe.c)({isLogged:ge,isEmail:fe}),be=Object(pe.e)(Ae,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(r.a.createElement(x.a,{store:be},r.a.createElement(u.a,null,r.a.createElement(he,null))),document.getElementById("root"))}},[[385,1,2]]]);
//# sourceMappingURL=main.f4437451.chunk.js.map